{"version":3,"sources":["Item.tsx","App.tsx","Bill.tsx","Login.tsx","UseDetail.tsx","index.tsx"],"names":["styles","price","fontSize","App","styled","div","Container","Wrapper","Button","Item","props","onClick","console","log","quantity","changeItem","itemName","setTotalPrice","totalPrice","setDisabled","className","style","Heading","h2","Checkout","CheckoutItems","button","heading","fontWeight","pad","padding","useState","menu","setMenu","disabled","temp","map","item","id","_fetchMenu","a","axios","get","res","data","error","alert","url","method","user","detail","result","totalItem","status","navigate","useEffect","setTotalItem","filter","key","type","Bill","href","Form","form","FormGroup","Input","input","Login","setDetail","email","setEmail","onSubmit","e","preventDefault","value","placeholder","required","onChange","target","validity","valid","useDetail","window","sessionStorage","getItem","initialDetail","userInfo","setItem","Main","path","rootElement","document","getElementById","render"],"mappings":"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","file":"static/js/main.2c07dfa5.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\ninterface Props {\r\n  itemName: string;\r\n  quantity: number;\r\n  price: number;\r\n  id: string;\r\n  changeItem: any;\r\n  totalPrice: any;\r\n  setTotalPrice: any;\r\n    setDisabled: any;\r\n}\r\n\r\nconst styles = {\r\n  price: {\r\n    fontSize: \"2em\"\r\n  }\r\n};\r\n\r\nconst App = styled.div`\r\n  padding: 1em;\r\n  background: #fff;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst Button = styled.div`\r\n  padding: 0.5em;\r\n  color: #000;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background: #000;\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst Item: React.FC<Props> = (props) => {\r\n  const addItem = () => {\r\n    console.log(props.quantity + 1);\r\n    props.changeItem(props.itemName, props.quantity + 1);\r\n    props.setTotalPrice(props.totalPrice + props.price);\r\n    props.setDisabled(false)\r\n  };\r\n\r\n  const removeItem = () => {\r\n    if(props.quantity === 0) {\r\n        props.setDisabled(true)\r\n    }\r\n    if (props.quantity >= 1) {\r\n      props.changeItem(props.itemName, props.quantity - 1);\r\n      props.setTotalPrice(props.totalPrice - props.price);\r\n    } else {\r\n        props.setDisabled(true)\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <App>\r\n      <Container>\r\n        <Wrapper>\r\n          <Button onClick={addItem}>\r\n            <i className=\"im im-plus\"></i>\r\n          </Button>\r\n          <Button onClick={removeItem}>\r\n            <i className=\"im im-minus\"></i>\r\n          </Button>\r\n          <div>{props.itemName}</div>\r\n        </Wrapper>\r\n        <div>\r\n          <div style={styles.price}>Rs.{props.price}/-</div>\r\n        </div>\r\n      </Container>\r\n    </App>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { navigate } from \"@reach/router\";\r\nimport download from \"downloadjs\";\r\n\r\nimport Item from \"./Item\";\r\n\r\ninterface Items {\r\n  itemName: string;\r\n  quantity: number;\r\n  price: number;\r\n  id: string;\r\n}\r\n\r\ninterface Props {\r\n    path: string;\r\n    detail: any;\r\n    totalItem: any;\r\n    setTotalItem: any;\r\n}\r\n\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr;\r\n\r\n  @media (max-width: 500px) {\r\n    display: block;\r\n  }\r\n`;\r\n\r\nconst Heading = styled.h2`\r\n  text-align: center;\r\n`;\r\n\r\nconst Checkout = styled.div`\r\n  position: sticky;\r\n  top: 3em;\r\n  background-color: #fff;\r\n  box-shadow: 0px 0px 14px 1px #9898989c;\r\n  padding: 1em;\r\n  height: max-content;\r\n  border-radius: 0.5em;\r\n\r\n  @media (max-width: 500px) {\r\n  }\r\n`;\r\n\r\nconst CheckoutItems = styled.div`\r\n  height: 60vh;\r\n  width: 25em;\r\n  overflow-y: auto;\r\n  background: #fff;\r\n\r\n  @media (max-width: 500px) {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 100%;\r\n  padding: 1em;\r\n  border: none;\r\n  background-color: #000;\r\n  color: #fff;\r\n  margin: 1em 0em;\r\n  border-radius: 5px;\r\n  font-family: \"Noto Sans Display\", sans-serif;\r\n\r\n    &:disabled {\r\n        background: #ddd;\r\n        color: black;\r\n        cursor: not-allowed;\r\n    }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  padding: 0.5em 2em;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst styles = {\r\n  heading: {\r\n    fontWeight: 600\r\n  },\r\n  pad: {\r\n    padding: \"1em\"\r\n  }\r\n};\r\n\r\nexport default function App(props: Props) {\r\n  const [menu, setMenu] = useState<Items[] | null>(null);\r\n  const [username, setUsername] = useState<string>(\"Anomoyous\");\r\n    const [disabled, setDisabled] = useState(true)\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n  const changeItem = (itemName: string, quantity: number) => {\r\n      if(menu) {\r\n    let temp = menu.map((item) => {\r\n      if (item.itemName !== itemName) return item;\r\n      return {\r\n        itemName: item.itemName,\r\n        quantity,\r\n        price: item.price,\r\n        id: item.id\r\n      };\r\n    });\r\n    setMenu(temp);\r\n  }\r\n  };\r\n\r\n  const _fetchMenu = async () => {\r\n\r\n    try {\r\n        let res = await axios.get(\"/all\");\r\n      let { data } = res.data;\r\n\r\n      setMenu(data);\r\n    } catch (e) {\r\n      console.error(\"Error Occured: \", e);\r\n    }\r\n  };\r\n\r\n  async function handlePay() {\r\n\r\n      if(totalPrice === 0) {\r\n          alert(\"Please choose anything !\")\r\n          return null\r\n      }\r\n    \r\n    try {\r\n\r\n      let res = await axios({\r\n          url: \"/add\",\r\n        method: \"POST\",\r\n        data: {\r\n          user: props.detail,\r\n          result: props.totalItem,\r\n          totalPrice: totalPrice\r\n        }\r\n      });\r\n\r\n        console.log(res)\r\n\r\n      if (res.status === 200) {\r\n        console.log(res.data);\r\n        navigate(\"/bill\");\r\n      }\r\n\r\n    } catch (e) {\r\n      console.error(\"Error Occured while sending the data : \", e);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // call the server of the menu\r\n    _fetchMenu();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (menu) {\r\n      props.setTotalItem(menu.filter((item) => item.quantity > 0));\r\n    }\r\n  }, [menu]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"state Update\");\r\n  }, [props.totalItem]);\r\n\r\n  if (!menu) {\r\n    return <div>Loading</div>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Heading>Menu</Heading>\r\n      <Container>\r\n        <div style={styles.pad}>\r\n          {menu.map((item) => {\r\n            return (\r\n              <Item\r\n                {...item}\r\n                key={item.id}\r\n                totalPrice={totalPrice}\r\n                changeItem={changeItem}\r\n                setTotalPrice={setTotalPrice}\r\n                setDisabled={setDisabled}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <Checkout>\r\n          <CheckoutItems>\r\n            <Wrapper>\r\n              <div style={styles.heading}>Items</div>\r\n              <div style={styles.heading}>Quantity</div>\r\n            </Wrapper>\r\n              {props.totalItem?.map((item: Items) => {\r\n              return (\r\n                <Wrapper key={item.id}>\r\n                  <div>{item.itemName}</div>\r\n                  <div>{item.quantity}</div>\r\n                </Wrapper>\r\n              );\r\n            })}\r\n          </CheckoutItems>\r\n          <Button type=\"button\" onClick={handlePay} disabled={disabled}>\r\n            Pay {totalPrice}\r\n          </Button>\r\n        </Checkout>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React, { FC } from \"react\";\r\nimport styled from \"styled-components\"\r\n\r\ninterface Props {\r\n    path: string;\r\n    detail: any;\r\n    totalItem: any;\r\n}\r\n\r\ninterface Items {\r\n    itemName: string;\r\n    id: string;\r\n    quantity: number;\r\n    price: number;\r\n}\r\n\r\nconst Container = styled.div`\r\n    padding: 1em 2em;\r\n    height: 50vh;\r\n    background: #fff;\r\n`\r\n\r\nconst Heading = styled.div`\r\n    text-align: center;\r\n`\r\n\r\nconst Bill: FC<Props> = ({ totalItem, detail }) => {\r\n\r\n    return (\r\n        <Container>\r\n            <Heading>{detail}</Heading>\r\n            {totalItem.map((item: Items) => {\r\n                return (\r\n                    <>\r\n                        <div>\r\n                            {item.itemName} - {item.quantity}\r\n                        </div>\r\n                    </>\r\n                );\r\n            })}\r\n\r\n            <a href={`/user/${detail}`}>Print the Bill</a>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Bill;\r\n","import React, {useState} from \"react\"\r\nimport styled from \"styled-components\"\r\n\r\nconst Form = styled.form`\r\n    width: 50%;\r\n    margin: 0em auto;\r\n`\r\n\r\nconst Container = styled.div`\r\n    width: 100%;\r\n    height: 100vh;\r\n    display: grid;\r\n    place-items: center;\r\n`\r\n\r\nconst FormGroup = styled.div`\r\n    padding: 0.5em;\r\n`\r\n\r\nconst Input = styled.input`\r\n    padding: 1em;\r\n    width: 100%;\r\n    display: block;\r\n    border-radius: 5px;\r\n    border: 2p solid #ddd;\r\n`\r\n\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    display: block;\r\n    border: none;\r\n    padding: 1em;\r\n    background: black;\r\n    color: white;\r\n   \r\n   &:disabled {\r\n    cursor: not-allowed;\r\n    background: #ddd;\r\n   }\r\n`\r\n\r\ninterface Props {\r\n    path: string;\r\n    setDetail: any;\r\n}\r\n\r\nconst Login: React.FC<Props> = ({ setDetail }) => {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [disabled, setDisabled] = useState(true)\r\n\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n\r\n        setDetail(email)\r\n    }\r\n\r\n    const handleEmail = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n            setDisabled(!e.target.validity.valid)\r\n            setEmail(e.target.value)\r\n    } \r\n\r\n    return (\r\n        <Container>\r\n        <Form onSubmit={handleSubmit}>\r\n            <FormGroup>\r\n                <Input\r\n                    type=\"email\" \r\n                    value={email} \r\n                    placeholder=\"Enter the email\" \r\n                    required\r\n                    onChange={handleEmail}\r\n                />\r\n            </FormGroup>\r\n            <FormGroup>\r\n                <Button disabled={disabled} type=\"submit\">Login</Button>\r\n            </FormGroup>\r\n        </Form>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import {useState} from \"react\"\r\n\r\nfunction useDetail () {\r\n    const initialDetail = () => {\r\n        let data = window.sessionStorage.getItem(\"info\")\r\n        console.log(data)\r\n        return data\r\n    }\r\n\r\n    let [detail, setDetail] = useState<string | null>(initialDetail())\r\n\r\n    // @ts-ignore\r\n    const changeDetail = (userInfo: string): void => {\r\n        console.log(userInfo)\r\n        //let userStr = JSON.stringify(userInfo) \r\n        window.sessionStorage.setItem(\"info\", userInfo)\r\n        setDetail(userInfo)\r\n    }\r\n\r\n    return [detail, changeDetail]\r\n}\r\n\r\nexport default useDetail\r\n","import {useState, useEffect} from \"react\";\r\n\r\nimport { render } from \"react-dom\";\r\nimport { Router } from \"@reach/router\";\r\n\r\nimport App from \"./App\";\r\nimport Bill from \"./Bill\";\r\nimport Login from \"./Login\"\r\nimport useDetail from \"./UseDetail\"\r\n\r\ninterface Items {\r\n  itemName: string;\r\n  quantity: number;\r\n  price: number;\r\n  id: string;\r\n}\r\n\r\nconst Main = () => {\r\n    // @ts-ignore\r\n    const [detail, setDetail] = useDetail()\r\n  const [totalItem, setTotalItem] = useState<Items[] | null>(null);\r\n\r\n    useEffect(() => {\r\n        console.log(\"Re Render\")\r\n    }, [totalItem])\r\n\r\n    if(!detail) {\r\n        return <Login setDetail={setDetail} path=\"/\" />\r\n    }\r\n\r\n  return (\r\n    <Router>\r\n      <App totalItem={totalItem} setTotalItem={setTotalItem} detail={detail} path=\"/\" />\r\n      <Bill totalItem={totalItem} detail={detail} path=\"/bill\" />\r\n    </Router>\r\n  );\r\n};\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nrender(<Main />, rootElement);\r\n"],"sourceRoot":""}